---
globs: *.ts,*.tsx,*.vue
description: TypeScriptå’ŒVueç¼–ç è§„èŒƒ
---

# TypeScript & Vue ç¼–ç è§„èŒƒ

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

### ä¸¥æ ¼éµå¾ªTypeScriptè§„èŒƒ
- ä½¿ç”¨ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥
- é¿å…ä½¿ç”¨ `any` ç±»å‹
- ä¸ºæ‰€æœ‰å‡½æ•°å‚æ•°å’Œè¿”å›å€¼å®šä¹‰ç±»å‹
- ä½¿ç”¨æ¥å£(interface)å®šä¹‰å¯¹è±¡ç»“æ„

### é¢å‘å¯¹è±¡ç¼–ç¨‹
- **å¿…é¡»ä½¿ç”¨ç±»(Class)** æ¥ç»„ç»‡ä»£ç 
- ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦ï¼š`private`ã€`public`ã€`protected`
- åˆç†ä½¿ç”¨ç»§æ‰¿å’Œç»„åˆ
- å•ä¸€èŒè´£åŸåˆ™ï¼šæ¯ä¸ªç±»åªè´Ÿè´£ä¸€ä»¶äº‹

### Vueè§„èŒƒ
- éµå¾ªVue 3ç»„åˆå¼APIè§„èŒƒ
- éµå¾ªViteæ„å»ºå·¥å…·çš„æœ€ä½³å®è·µ
- ç»„ä»¶é‡‡ç”¨é¢å‘å¯¹è±¡çš„è®¾è®¡æ¨¡å¼

## ğŸ“ ç¼–ç ç¤ºä¾‹

### âœ… æ­£ç¡®çš„ç±»å®šä¹‰
```typescript
export class IPv6Pool {
  private addresses: string[]
  private currentIndex: number = 0
  
  constructor(basePrefix: string, start: number, count: number) {
    this.addresses = []
    // åˆå§‹åŒ–é€»è¾‘
  }
  
  public getNext(): string {
    // æ–¹æ³•å®ç°
  }
  
  private validateAddress(addr: string): boolean {
    // ç§æœ‰æ–¹æ³•
  }
}
```

### âŒ é”™è¯¯çš„å‡½æ•°å¼å†™æ³•
```typescript
// âŒ ä¸è¦ä½¿ç”¨çº¯å‡½æ•°å¼ç¼–ç¨‹
function getNextIPv6(pool: any) {
  // ...
}

const ipv6Pool = {
  addresses: [],
  getNext: function() {}
}
```

### âœ… æ­£ç¡®çš„ç±»å‹å®šä¹‰
```typescript
interface FetchOptions {
  url: string
  method?: string
  headers?: Record<string, string>
  timeout?: number
}

export class CurlFetcher {
  public async fetch(options: FetchOptions): Promise<FetchResult> {
    // å®ç°
  }
}
```

## ğŸ—ï¸ æ¶æ„è¦æ±‚

### æœåŠ¡å™¨ç«¯ä»£ç ç»„ç»‡
- æ¯ä¸ªåŠŸèƒ½æ¨¡å—ä½¿ç”¨ç‹¬ç«‹çš„ç±»
- ç±»ä¹‹é—´é€šè¿‡ä¾èµ–æ³¨å…¥æˆ–æ„é€ å‡½æ•°ä¼ é€’
- é¿å…å…¨å±€å˜é‡å’Œå‡½æ•°

### ç¤ºä¾‹æ¶æ„
```typescript
// rpc-server.ts
export class RpcServer extends EventEmitter {
  private ipv6Pool: IPv6Pool
  private curlFetcher: CurlFetcher
  
  constructor(port: number, ipv6Prefix: string) {
    this.ipv6Pool = new IPv6Pool(ipv6Prefix, 1001, 100)
    this.curlFetcher = new CurlFetcher(this.ipv6Pool)
  }
}
```

## ğŸ”§ å·¥å…·å’Œé…ç½®

### TSConfigè®¾ç½®
- å¯ç”¨ `strict` æ¨¡å¼
- ä½¿ç”¨ ES2022 æˆ–æ›´æ–°çš„ç›®æ ‡
- é…ç½®è·¯å¾„åˆ«åä¾¿äºå¯¼å…¥

### ä»£ç é£æ ¼
- ä½¿ç”¨åˆ†å·ç»“æŸè¯­å¥
- ä½¿ç”¨2ç©ºæ ¼ç¼©è¿›
- ç±»åä½¿ç”¨ PascalCase
- æ–¹æ³•åä½¿ç”¨ camelCase
- å¸¸é‡ä½¿ç”¨ UPPER_SNAKE_CASE

## âš ï¸ ç¦æ­¢äº‹é¡¹

âŒ ä¸è¦ä½¿ç”¨å…¨å±€å‡½æ•°ï¼ˆé™¤éæ˜¯å·¥å…·å‡½æ•°ï¼‰
âŒ ä¸è¦ä½¿ç”¨ `var`ï¼Œä½¿ç”¨ `const` æˆ– `let`
âŒ ä¸è¦å¿½ç•¥TypeScripté”™è¯¯
âŒ ä¸è¦æ··ç”¨é¢å‘å¯¹è±¡å’Œå‡½æ•°å¼ç¼–ç¨‹é£æ ¼
âŒ ä¸è¦åˆ›å»ºè¿‡å¤§çš„ç±»ï¼ˆè¶…è¿‡500è¡Œè€ƒè™‘æ‹†åˆ†ï¼‰

## âœ… æœ€ä½³å®è·µ

1. **å•ä¸€èŒè´£**: æ¯ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½é¢†åŸŸ
2. **å°è£…æ€§**: ä½¿ç”¨ç§æœ‰å±æ€§ä¿æŠ¤å†…éƒ¨çŠ¶æ€
3. **ç±»å‹å®‰å…¨**: å……åˆ†åˆ©ç”¨TypeScriptçš„ç±»å‹ç³»ç»Ÿ
4. **å¯æµ‹è¯•æ€§**: è®¾è®¡æ˜“äºæµ‹è¯•çš„ç±»å’Œæ–¹æ³•
5. **æ–‡æ¡£æ³¨é‡Š**: ä¸ºå…¬å…±APIæ·»åŠ JSDocæ³¨é‡Š
