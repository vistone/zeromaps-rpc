# ZeroMaps RPC 统一管理面板 Caddy配置
# Caddy会自动获取Let's Encrypt证书

{DOMAIN} {
    # API反向代理（解决混合内容问题）
    # 使用[::1]（IPv6 localhost）而不是127.0.0.1
    handle /api/* {
        reverse_proxy [::1]:9528
    }
    
    # 静态管理面板
    root * /opt/zeromaps-rpc/public
    file_server
    
    # Caddy自动HTTPS（自动获取Let's Encrypt证书）
    # 无需手动配置证书路径
    
    # 日志
    log {
        output file /var/log/caddy/zeromaps-rpc.log
    }
}

